"use strict";const titleToclickList=document.querySelectorAll(".js-headerClick");for(const e of titleToclickList)e.addEventListener("click",closeSection);function closeSection(e){const t=e.currentTarget.querySelector(".js-arrow"),l=e.currentTarget.parentNode.querySelector(".js-collapse"),s=document.querySelectorAll(".js-collapse");for(const e of s)l===e?(e.classList.toggle("hidden"),t.classList.toggle("rotate")):e.classList.add("hidden")}const fr=new FileReader,fileField=document.querySelector(".js__profile-upload-btn"),profileImage=document.querySelector(".js__profile-image"),profilePreview=document.querySelector(".js__profile-preview");let photo="";function getImage(e){const t=e.currentTarget.files[0];fr.addEventListener("load",writeImage);return fr.readAsDataURL(t)}function fakeFileClick(){fileField.click()}function writeImage(){profileImage.style.backgroundImage=`url(${fr.result})`,profilePreview.style.backgroundImage=`url(${fr.result})`,fileField.setAttribute("value",fr.result),dataUser.photo=fr.result,console.log(photo)}fileField.addEventListener("change",getImage);const textForm=document.querySelector(".js-textForm"),jobsCard=document.querySelector(".js-jobCard"),namesCard=document.querySelector(".js-nameCard"),phone=document.querySelector(".js-phoneCard"),email=document.querySelector(".js-emailCard"),linkedin=document.querySelector(".js-linkedin"),gitHub=document.querySelector(".js-githubcard");function handleTextForm(e){e.preventDefault();const t=e.target.id,l=e.target.value;console.log(e.target.id),"job"===t?jobsCard.innerHTML=l:"name"===t?namesCard.innerHTML=l:"github"===t?gitHub.href="https://github.com/"+l:"linkedin"===t?linkedin.href="https://www.linkedin.com/in/"+l:"phone"===t?phone.href="tel:"+l:"email"===t&&(email.href="mailto:"+l)}textForm.addEventListener("change",handleTextForm);const colorTitle=document.querySelector(".js-colorTitle"),colorSubtitle=document.querySelector(".js-colorSubtitle"),colorIcon=document.querySelectorAll(".js-colorIcon"),paletteOne=document.querySelector(".js-paletteOne"),paletteTwo=document.querySelector(".js-paletteTwo"),paletteThree=document.querySelector(".js-paletteThree"),paletteFour=document.querySelector(".js-paletteFour"),paletteFive=document.querySelector(".js-paletteFive"),paletteSix=document.querySelector(".js-paletteSix");function paletteOneClick(){colorTitle.classList.remove("js-paletteTwoTitle"),colorTitle.classList.remove("js-paletteThreeTitle"),colorTitle.classList.remove("js-paletteFourTitle"),colorTitle.classList.remove("js-paletteFiveTitle"),colorTitle.classList.remove("js-paletteSixTitle"),colorTitle.classList.add("js-paletteOneTitle"),colorSubtitle.classList.remove("js-paletteTwoSubtitle"),colorSubtitle.classList.remove("js-paletteThreeSubtitle"),colorSubtitle.classList.remove("js-paletteFourSubtitle"),colorSubtitle.classList.remove("js-paletteFiveSubtitle"),colorSubtitle.classList.remove("js-paletteSixSubtitle"),colorSubtitle.classList.add("js-paletteOneSubtitle");for(const e of colorIcon)e.classList.remove("js-paletteTwoIcon"),e.classList.remove("js-paletteThreeIcon"),e.classList.remove("js-paletteFourIcon"),e.classList.remove("js-paletteFiveIcon"),e.classList.remove("js-paletteSixIcon"),e.classList.add("js-paletteOneIcon")}function paletteTwoClick(){colorTitle.classList.remove("js-paletteOneTitle"),colorTitle.classList.remove("js-paletteThreeTitle"),colorTitle.classList.remove("js-paletteFourTitle"),colorTitle.classList.remove("js-paletteFiveTitle"),colorTitle.classList.remove("js-paletteSixTitle"),colorTitle.classList.add("js-paletteTwoTitle"),colorSubtitle.classList.remove("js-paletteOneSubtitle"),colorSubtitle.classList.remove("js-paletteThreeSubtitle"),colorSubtitle.classList.remove("js-paletteFourSubtitle"),colorSubtitle.classList.remove("js-paletteFiveSubtitle"),colorSubtitle.classList.remove("js-paletteSixSubtitle"),colorSubtitle.classList.add("js-paletteTwoSubtitle");for(const e of colorIcon)e.classList.remove("js-paletteOneIcon"),e.classList.remove("js-paletteThreeIcon"),e.classList.remove("js-paletteFourIcon"),e.classList.remove("js-paletteFiveIcon"),e.classList.remove("js-paletteSixIcon"),e.classList.add("js-paletteTwoIcon")}function paletteThreeClick(){colorTitle.classList.remove("js-paletteTwoTitle"),colorTitle.classList.remove("js-paletteOneTitle"),colorTitle.classList.remove("js-paletteFourTitle"),colorTitle.classList.remove("js-paletteFiveTitle"),colorTitle.classList.remove("js-paletteSixTitle"),colorTitle.classList.add("js-paletteThreeTitle"),colorSubtitle.classList.remove("js-paletteTwoSubtitle"),colorSubtitle.classList.remove("js-paletteOneSubtitle"),colorSubtitle.classList.remove("js-paletteFourSubtitle"),colorSubtitle.classList.remove("js-paletteFiveSubtitle"),colorSubtitle.classList.remove("js-paletteSixSubtitle"),colorSubtitle.classList.add("js-paletteThreeSubtitle");for(const e of colorIcon)e.classList.remove("js-paletteTwoIcon"),e.classList.remove("js-paletteOneIcon"),e.classList.remove("js-paletteFourIcon"),e.classList.remove("js-paletteFiveIcon"),e.classList.remove("js-paletteSixIcon"),e.classList.add("js-paletteThreeIcon")}function paletteFourClick(){colorTitle.classList.remove("js-paletteTwoTitle"),colorTitle.classList.remove("js-paletteOneTitle"),colorTitle.classList.remove("js-paletteThreeTitle"),colorTitle.classList.remove("js-paletteFiveTitle"),colorTitle.classList.remove("js-paletteSixTitle"),colorTitle.classList.add("js-paletteFourTitle"),colorSubtitle.classList.remove("js-paletteTwoSubtitle"),colorSubtitle.classList.remove("js-paletteOneSubtitle"),colorSubtitle.classList.remove("js-paletteThreeSubtitle"),colorSubtitle.classList.remove("js-paletteFiveSubtitle"),colorSubtitle.classList.remove("js-paletteSixSubtitle"),colorSubtitle.classList.add("js-paletteFourSubtitle");for(const e of colorIcon)e.classList.remove("js-paletteTwoIcon"),e.classList.remove("js-paletteOneIcon"),e.classList.remove("js-paletteThreeIcon"),e.classList.remove("js-paletteFiveIcon"),e.classList.remove("js-paletteSixIcon"),e.classList.add("js-paletteFourIcon")}function paletteFiveClick(){colorTitle.classList.remove("js-paletteTwoTitle"),colorTitle.classList.remove("js-paletteOneTitle"),colorTitle.classList.remove("js-paletteFourTitle"),colorTitle.classList.remove("js-palettethreeTitle"),colorTitle.classList.remove("js-paletteSixTitle"),colorTitle.classList.add("js-paletteFiveTitle"),colorSubtitle.classList.remove("js-paletteTwoSubtitle"),colorSubtitle.classList.remove("js-paletteOneSubtitle"),colorSubtitle.classList.remove("js-paletteFourSubtitle"),colorSubtitle.classList.remove("js-paletteThreeSubtitle"),colorSubtitle.classList.remove("js-paletteSixSubtitle"),colorSubtitle.classList.add("js-paletteFiveSubtitle");for(const e of colorIcon)e.classList.remove("js-paletteTwoIcon"),e.classList.remove("js-paletteOneIcon"),e.classList.remove("js-paletteFourIcon"),e.classList.remove("js-paletteThreeIcon"),e.classList.remove("js-paletteSixIcon"),e.classList.add("js-paletteFiveIcon")}function paletteSixClick(){colorTitle.classList.remove("js-paletteTwoTitle"),colorTitle.classList.remove("js-paletteOneTitle"),colorTitle.classList.remove("js-paletteFourTitle"),colorTitle.classList.remove("js-paletteFiveTitle"),colorTitle.classList.remove("js-paletteThreeTitle"),colorTitle.classList.add("js-paletteSixTitle"),colorSubtitle.classList.remove("js-paletteTwoSubtitle"),colorSubtitle.classList.remove("js-paletteOneSubtitle"),colorSubtitle.classList.remove("js-paletteFourSubtitle"),colorSubtitle.classList.remove("js-paletteFiveSubtitle"),colorSubtitle.classList.remove("js-paletteThreeSubtitle"),colorSubtitle.classList.add("js-paletteSixSubtitle");for(const e of colorIcon)e.classList.remove("js-paletteTwoIcon"),e.classList.remove("js-paletteOneIcon"),e.classList.remove("js-paletteFourIcon"),e.classList.remove("js-paletteFiveIcon"),e.classList.remove("js-paletteThreeIcon"),e.classList.add("js-paletteSixIcon")}paletteOne.addEventListener("change",paletteOneClick),paletteTwo.addEventListener("change",paletteTwoClick),paletteThree.addEventListener("change",paletteThreeClick),paletteFour.addEventListener("change",paletteFourClick),paletteFive.addEventListener("change",paletteFiveClick),paletteSix.addEventListener("change",paletteSixClick);const createBtn=document.querySelector(".js_create_btn"),textURL=document.querySelector(".js-url"),form=document.querySelector(".js-form"),twitterShare=document.querySelector(".js-shareTwitter"),lineTwitter=document.querySelector(".js-line"),buttonTwitter=document.querySelector(".js-buttonTwitterOne"),buttonTwitterLink=document.querySelector(".js-buttonTwitter"),textTitle=document.querySelector(".js-title");let dataUser={palette:"",name:"",job:"",email:"",phone:"",linkedin:"",github:"",photo:""};function handlerFormData(e){const t=e.target.id,l=e.target.value;dataUser[t]=l,console.log(dataUser)}function handleCreateBtn(e){e.preventDefault(),fetch("https://awesome-profile-cards.herokuapp.com/card",{method:"POST",body:JSON.stringify(dataUser),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{if(twitterShare.classList.remove("hiddenTwitter"),lineTwitter.classList.add("hiddenLine"),!0===e.success)textURL.innerHTML=e.cardURL,textURL.setAttribute("href",e.cardURL),buttonTwitterLink.href="https://twitter.com/intent/tweet?url="+e.cardURL;else{let e="Por favor revise los datos introducidos";textTitle.innerHTML="Error al crear la tarjeta:";const t=document.createElement("a"),l=document.createTextNode(e);t.appendChild(l),textURL.appendChild(t),buttonTwitter.remove(),textURL.removeAttribute("href")}})}form.addEventListener("change",handlerFormData),createBtn.addEventListener("click",handleCreateBtn);const resetButton=document.querySelector(".js-resetButton");function handleResetInput(){localStorage.removeItem("dataUser"),location.reload()}resetButton.addEventListener("click",handleResetInput);